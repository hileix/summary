# JS 运行机制

## JS 是单线程

为什么 JS 是单进程？这和 JS 的的实际用途有关：JS 的主要用途是与用户交互和操作 DOM。假如 JS 是多线程的，多个线程对同一个 DOM 进行操作，哪到底以哪个线程为准？这就牵扯出一个很复杂的同步问题。

虽然可以允许你 JS 脚本使用 web worker 创建多线程，但子进程完全受主线程控制，并且不允许操作 DOM。

## 浏览器是多进程的

当我们每打开浏览器（如：Chrome）的一个标签页，都会产生一个进程。

### 浏览器包含哪些进程？

1. Browser 进程

- 浏览器的主进程(负责协调、主控)，该进程只有一个
- 负责浏览器界面显示，与用户交互。如前进，后退等
- 负责各个页面的管理，创建和销毁其他进程
- 将渲染(Renderer)进程得到的内存中的 Bitmap(位图)，绘制到用户界面上
- 网络资源的管理，下载等

2. 第三方插件进程

- 每种类型的插件对应一个进程，当使用该插件时才创建

3. GPU 进程

- 该进程只有一个，用于 3D 绘制等等

4. **渲染进程**

- 即通常所说的浏览器内核(Renderer 进程，内部是多线程)
- 每个 Tab 页面都有一个渲染进程，互不影响
- 主要作用为页面渲染，脚本执行，事件处理等

https://juejin.cn/post/6844904050543034376

https://github.com/aooy/blog/issues/5
